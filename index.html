<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>AI数学問題生成と採点</title>
  <link rel="stylesheet" href="style.css">
  <!-- MathJax コンフィグ：ディスプレイ数式は $$ ... $$ を使用 -->
  <script src="MathJaxSetting.js"></script>
  <!-- MathJax の読み込み -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <h1>AI数学問題生成と採点（ずんだ式なのだ）</h1>

  <!-- APIキー入力 -->
  <label>OpenAI APIキー（個別に入力してほしいのだ）</label>
  <input type="password" id="apiKey" placeholder="sk-..." />

  <!-- モデル選択 -->
  <label>利用するAIモデルを選んでほしいのだ</label>
  <select id="modelChoice">
    <option value="gpt-4o">gpt-4o</option>
    <option value="gpt-4o-mini" selected>gpt-4o-mini</option>
  </select>

  <!-- 学年選択 -->
  <label>学年を選んでほしいのだ</label>
  <select id="grade">
    <option value="小1">小1</option>
    <option value="小2">小2</option>
    <option value="小3">小3</option>
    <option value="小4">小4</option>
    <option value="小5">小5</option>
    <option value="小6">小6</option>
    <option value="中1">中1</option>
    <option value="中2">中2</option>
    <option value="中3">中3</option>
    <option value="高1">高1</option>
    <option value="高2">高2</option>
    <option value="高3">高3</option>
  </select>

  <!-- 学年内の難易度 -->
  <label>学年内の難易度を選んでほしいのだ</label>
  <select id="difficulty">
    <option value="簡単">簡単</option>
    <option value="普通" selected>普通</option>
    <option value="難しい">難しい</option>
  </select>

  <!-- 分野入力 -->
  <label>分野を入力してほしいのだ（例：分数、関数、図形など）</label>
  <input type="text" id="topic" placeholder="例：図形" />

  <!-- 問題タイプ選択 -->
  <label>問題タイプを選んでほしいのだ</label>
  <select id="type">
    <option value="計算問題">計算問題</option>
    <option value="文章題">文章題</option>
  </select>

  <!-- 問題生成ボタン -->
  <button onclick="generateQuestion()">問題を生成するのだ！</button>

  <!-- 問題＆採点エリア -->
  <div id="questionBox" style="display: none;">
    <!-- 問題文出力エリア（ここで aligned 環境を使って複数行表示） -->
    <p id="questionText"></p>

    <label>答えを入力してほしいのだ：</label>
    <input type="text" id="userAnswer" placeholder="ここに答えを書くのだ" />
    <button onclick="checkAnswer()">答えるのだ！</button>

    <!-- 採点結果出力エリア -->
    <p id="result"></p>
  </div>
  <script src="MakeProblem.js"></script>
</body>
</html>
